{"ast":null,"code":"var _jsxFileName = \"/home/ayush/Documents/WAD/ead/client/src/components/project/EditProject.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EditProject({\n  match\n}) {\n  _s();\n\n  const [project, setProject] = useState({\n    title: \"\",\n    content: \"\",\n    date: \"\",\n    id: \"\"\n  });\n  const history = useHistory();\n  useEffect(() => {\n    const getProject = async () => {\n      const token = localStorage.getItem('tokenStore');\n\n      if (match.params.id) {\n        const res = await axios.get(`/api/projects/${match.params.id}`, {\n          headers: {\n            Authorization: token\n          }\n        });\n        setProject({\n          title: res.data.title,\n          content: res.data.content,\n          date: new Date(res.data.date).toLocaleDateString,\n          id: res.data._id\n        });\n      }\n    };\n\n    getProject();\n  }, [match.params.id]);\n\n  const onChangeInput = async e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setProject({ ...project,\n      [name]: value\n    });\n  };\n\n  const editProject = async e => {\n    e.preventDefault();\n\n    try {\n      const token = localStorage.getItem(\"tokenStore\");\n\n      if (token) {\n        const {\n          title,\n          content,\n          date,\n          id\n        } = project;\n        const newProject = {\n          title,\n          content,\n          date\n        };\n        await axios.put(`/api/projects/${id}`, newProject, {\n          headers: {\n            Authorization: token\n          }\n        });\n        return history.push(\"/\");\n      }\n    } catch (error) {}\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"create-note\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Edit Project\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: editProject,\n      autoComplete: \"off\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"title\",\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: project.title,\n          id: \"title\",\n          name: \"title\",\n          required: true,\n          onChange: onChangeInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"content\",\n          children: \"Content\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          value: project.content,\n          id: \"content\",\n          name: \"content\",\n          required: true,\n          rows: \"10\",\n          onChange: onChangeInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"date\",\n        children: [\"Date:\", project.date]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          id: \"date\",\n          name: \"date\",\n          onChange: onChangeInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditProject, \"+ApEoF8S3wWW/Qh2w0V8utmN2Cs=\", false, function () {\n  return [useHistory];\n});\n\n_c = EditProject;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditProject\");","map":{"version":3,"sources":["/home/ayush/Documents/WAD/ead/client/src/components/project/EditProject.js"],"names":["React","useState","useEffect","axios","useHistory","EditProject","match","project","setProject","title","content","date","id","history","getProject","token","localStorage","getItem","params","res","get","headers","Authorization","data","Date","toLocaleDateString","_id","onChangeInput","e","name","value","target","editProject","preventDefault","newProject","put","push","error"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function EditProject({ match }) {\n  const [project, setProject] = useState({\n    title: \"\",\n    content: \"\",\n      date: \"\",\n      id:\"\"\n  });\n  const history = useHistory();\n\n    useEffect(() => {\n        const getProject = async () => {\n            const token = localStorage.getItem('tokenStore')\n            if (match.params.id) {\n                const res = await axios.get(`/api/projects/${match.params.id}`, {\n                    headers: {Authorization:token}\n                })\n                setProject({\n                  title: res.data.title,\n                  content: res.data.content,\n                  date: new Date(res.data.date).toLocaleDateString,\n                  id: res.data._id,\n                });\n            }\n            \n        }\n        getProject()\n    },[match.params.id])\n    \n  const onChangeInput = async (e) => {\n    const { name, value } = e.target;\n    setProject({ ...project, [name]: value });\n  };\n  const editProject = async (e) => {\n    e.preventDefault();\n    try {\n      const token = localStorage.getItem(\"tokenStore\");\n      if (token) {\n        const { title, content, date,id } = project;\n        const newProject = {\n          title,\n          content,\n          date,\n        };\n\n        await axios.put(`/api/projects/${id}`, newProject, {\n          headers: { Authorization: token },\n        });\n        return history.push(\"/\");\n      }\n    } catch (error) {}\n  };\n\n  return (\n    <div className=\"create-note\">\n      <h2>Edit Project</h2>\n      <form onSubmit={editProject} autoComplete=\"off\">\n        <div className=\"row\">\n          <label htmlFor=\"title\">Title</label>\n          <input\n            type=\"text\"\n            value={project.title}\n            id=\"title\"\n            name=\"title\"\n            required\n            onChange={onChangeInput}\n          />\n        </div>\n        <div className=\"row\">\n          <label htmlFor=\"content\">Content</label>\n          <textarea\n            type=\"text\"\n            value={project.content}\n            id=\"content\"\n            name=\"content\"\n            required\n            rows=\"10\"\n            onChange={onChangeInput}\n          />\n        </div>\n        <label htmlFor=\"date\">Date:{project.date}</label>\n        <div className=\"row\">\n          <input\n            type=\"date\"\n            id=\"date\"\n            name=\"date\"\n            \n            onChange={onChangeInput}\n          />\n        </div>\n        <button type=\"submit\">Save</button>\n      </form>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}