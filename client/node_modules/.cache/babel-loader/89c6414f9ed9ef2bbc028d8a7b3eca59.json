{"ast":null,"code":"import _regeneratorRuntime from\"/home/ayush/Documents/WAD/ead/client/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"/home/ayush/Documents/WAD/ead/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/ayush/Documents/WAD/ead/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/ayush/Documents/WAD/ead/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/ayush/Documents/WAD/ead/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from'axios';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CreateProject(){var _useState=useState({title:'',content:'',date:''}),_useState2=_slicedToArray(_useState,2),project=_useState2[0],setProject=_useState2[1];var history=useHistory();var onChangeInput=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _e$target,name,value;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_e$target=e.target,name=_e$target.name,value=_e$target.value;setProject(_objectSpread(_objectSpread({},project),{},_defineProperty({},name,value)));case 2:case\"end\":return _context.stop();}}},_callee);}));return function onChangeInput(_x){return _ref.apply(this,arguments);};}();var createProject=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var token,title,content,date,newProject;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.prev=1;token=localStorage.getItem('tokenStore');if(!token){_context2.next=9;break;}title=project.title,content=project.content,date=project.date;newProject={title:title,content:content,date:date};_context2.next=8;return axios.post('/api/projects',newProject,{headers:{Authorization:token}});case 8:return _context2.abrupt(\"return\",history.push('/'));case 9:_context2.next=13;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](1);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[1,11]]);}));return function createProject(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"create-note\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add Items\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:createProject,autoComplete:\"off\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:project.title,id:\"title\",name:\"title\",required:true,onChange:onChangeInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"content\",children:\"Content\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",value:project.content,id:\"content\",name:\"content\",required:true,rows:\"10\",onChange:onChangeInput})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"date\",children:[\"Date:\",project.date]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"date\",name:\"date\",required:true,onChange:onChangeInput})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save\"})]})]});}","map":{"version":3,"sources":["/home/ayush/Documents/WAD/ead/client/src/components/project/CreateProject.js"],"names":["React","useState","axios","useHistory","CreateProject","title","content","date","project","setProject","history","onChangeInput","e","target","name","value","createProject","preventDefault","token","localStorage","getItem","newProject","post","headers","Authorization","push"],"mappings":"ilBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAA+B,OAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,UAAR,KAAyB,kBAAzB,C,wFAEA,cAAe,SAASC,CAAAA,aAAT,EAAyB,eACNH,QAAQ,CAAC,CACnCI,KAAK,CAAE,EAD4B,CAEnCC,OAAO,CAAE,EAF0B,CAGnCC,IAAI,CAAE,EAH6B,CAAD,CADF,wCAC7BC,OAD6B,eACpBC,UADoB,eAMxC,GAAMC,CAAAA,OAAO,CAAEP,UAAU,EAAzB,CAGI,GAAMQ,CAAAA,aAAa,0FAAE,iBAAMC,CAAN,qJACOA,CAAC,CAACC,MADT,CACTC,IADS,WACTA,IADS,CACHC,KADG,WACHA,KADG,CAEjBN,UAAU,gCAAKD,OAAL,wBAAcM,IAAd,CAAoBC,KAApB,GAAV,CAFiB,sDAAF,kBAAbJ,CAAAA,aAAa,4CAAnB,CAIF,GAAMK,CAAAA,aAAa,2FAAE,kBAAMJ,CAAN,8JACnBA,CAAC,CAACK,cAAF,GADmB,iBAGXC,KAHW,CAGHC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAHG,KAIbF,KAJa,0BAKPb,KALO,CAKkBG,OALlB,CAKPH,KALO,CAKAC,OALA,CAKkBE,OALlB,CAKAF,OALA,CAKSC,IALT,CAKkBC,OALlB,CAKSD,IALT,CAMTc,UANS,CAMI,CACjBhB,KAAK,CAALA,KADiB,CACXC,OAAO,CAAPA,OADW,CACHC,IAAI,CAAJA,IADG,CANJ,wBAUTL,CAAAA,KAAK,CAACoB,IAAN,CAAW,eAAX,CAA4BD,UAA5B,CAAwC,CAC5CE,OAAO,CAAE,CAACC,aAAa,CAACN,KAAf,CADmC,CAAxC,CAVS,yCAaRR,OAAO,CAACe,IAAR,CAAa,GAAb,CAbQ,qKAAF,kBAAbT,CAAAA,aAAa,8CAAnB,CAoBE,mBACE,aAAK,SAAS,CAAC,aAAf,wBACE,iCADF,cAEE,cAAM,QAAQ,CAAEA,aAAhB,CAA+B,YAAY,CAAC,KAA5C,wBACE,aAAK,SAAS,CAAC,KAAf,wBACE,cAAO,OAAO,CAAC,OAAf,mBADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAER,OAAO,CAACH,KAFjB,CAGE,EAAE,CAAC,OAHL,CAIE,IAAI,CAAC,OAJP,CAKE,QAAQ,KALV,CAME,QAAQ,CAAEM,aANZ,EAFF,GADF,cAYE,aAAK,SAAS,CAAC,KAAf,wBACE,cAAO,OAAO,CAAC,SAAf,qBADF,cAEE,iBACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAEH,OAAO,CAACF,OAFjB,CAGE,EAAE,CAAC,SAHL,CAIE,IAAI,CAAC,SAJP,CAKE,QAAQ,KALV,CAME,IAAI,CAAC,IANP,CAOE,QAAQ,CAAEK,aAPZ,EAFF,GAZF,cAwBE,eAAO,OAAO,CAAC,MAAf,mBAA4BH,OAAO,CAACD,IAApC,GAxBF,cAyBE,YAAK,SAAS,CAAC,KAAf,uBACE,cACE,IAAI,CAAC,MADP,CAEE,EAAE,CAAC,MAFL,CAGE,IAAI,CAAC,MAHP,CAIE,QAAQ,KAJV,CAKE,QAAQ,CAAEI,aALZ,EADF,EAzBF,cAkCE,eAAQ,IAAI,CAAC,QAAb,kBAlCF,GAFF,GADF,CAyCH","sourcesContent":["import React, { useState} from 'react'\nimport axios from 'axios'\nimport {useHistory} from 'react-router-dom'\n\nexport default function CreateProject() {\n    const [project, setProject] = useState({\n        title: '',\n        content: '',\n        date: ''\n    })\nconst history= useHistory()\n\n    \n    const onChangeInput =async e => {\n        const { name, value } = e.target;\n        setProject({...project,[name]:value})\n    }\n  const createProject =async e => {\n    e.preventDefault()\n    try {\n      const token = localStorage.getItem('tokenStore')\n      if (token) {\n        const { title, content, date } = project\n        const newProject = {\n          title,content,date\n        }\n\n        await axios.post('/api/projects', newProject, {\n          headers: {Authorization:token}\n        })\n        return history.push('/')\n      }\n    } catch (error) {\n      \n    }\n  }\n\n    return (\n      <div className=\"create-note\">\n        <h2>Add Items</h2>\n        <form onSubmit={createProject} autoComplete=\"off\" >\n          <div className=\"row\">\n            <label htmlFor=\"title\">Title</label>\n            <input\n              type=\"text\"\n              value={project.title}\n              id=\"title\"\n              name=\"title\"\n              required\n              onChange={onChangeInput}\n            />\n          </div>\n          <div className=\"row\">\n            <label htmlFor=\"content\">Content</label>\n            <textarea\n              type=\"text\"\n              value={project.content}\n              id=\"content\"\n              name=\"content\"\n              required\n              rows=\"10\"\n              onChange={onChangeInput}\n            />\n          </div>\n          <label htmlFor=\"date\">Date:{project.date}</label>\n          <div className=\"row\">\n            <input\n              type=\"date\"\n              id=\"date\"\n              name=\"date\"\n              required\n              onChange={onChangeInput}\n            />\n          </div>\n          <button type=\"submit\">Save</button>\n        </form>\n      </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}